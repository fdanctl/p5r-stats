{{ define "title" }}Persona 5 Royal - Stats{{ end }}

{{ define "extraCSS"}}
<link href="/static/css/components/svg.css" rel="stylesheet" />
<link href="/static/css/components/toast.css" rel="stylesheet" />
<link href="/static/css/components/profile-header.css" rel="stylesheet" />
<link href="/static/css/components/activity-card.css" rel="stylesheet" />
{{ end }}

{{ define "scripts" }}
<script src="/static/js/modal.js" defer></script>
<script src="/static/js/tooltip.js" defer></script>
<script src="/static/js/profile-header.js" defer></script>
<script src="/static/js/toast.js" defer></script>
{{ end }}

{{ define "content" }}
{{ with . }}
{{ template "profile-header" . }}
<section id="logs">
  <div class="flex gap-sm">
    <h2>Logs</h2>
    <button onclick="toggleModal('add-activity')">add</button>
  </div>
  <ul>
    {{ range .Activities }}
    <li data-id="{{.Id}}" class="activity-card" onclick="">
      <div>
        <h4>{{ .Title }}</h4>
        <p class="text-subtitle text-xs">{{ timeToString .Date }}</p>
      </div>
      <ul>
        {{ range .IncreasedStats }}
        <li>
          <p>{{ .Stat }}</p>
          <div class="flex gap-xs items-center">
          {{ if ge .Points 1}}
            <div class="music-note-container">{{ template "musicNoteSVG" . }}</div>
          {{ end }}
          {{ if ge .Points 4}}
            <div class="music-note-container">{{ template "musicNoteSVG" . }}</div>
          {{ end }}
          {{ if ge .Points 7}}
            <div class="music-note-container">{{ template "musicNoteSVG" . }}</div>
          {{ end }}
          </div>
        </li>
        {{ end }}
      </ul>
    </li>
    {{ end }}
  </ul>
</section>

{{ template "modal" (dict
  "Id"      "add-activity"
  "Title"   "Add Activity"
  "Content" "activity"
)}}

{{ else }}
{{ template "modal" (dict
  "Id"      "new-user-modal"
  "Title"   "New User"
  "Content" "newUser"
  "Show"    true
)}}
{{ end}}
<!-- Toast block -->
<div id="toast-container"></div>
{{ end }}
