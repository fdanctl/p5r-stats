{{ define "title" }}Persona 5 Royal - Stats{{ end }}

{{ define "extraCSS"}}
<link href="/static/css/components/svg.css" rel="stylesheet" />
<link href="/static/css/components/toast.css" rel="stylesheet" />
<link href="/static/css/pages/home.css" rel="stylesheet" />
{{ end }}

{{ define "scripts" }}
<script src="/static/js/modal.js" defer></script>
<script src="/static/js/tooltip.js" defer></script>
<script src="/static/js/home.js" defer></script>
<script src="/static/js/toast.js" defer></script>
{{ end }}

{{ define "content" }}
<section id="userHeader">
  <form id="userInfo">
    <div id="pfp" class="pfp">
      <img src="/assets/pfp.png" alt="profile picture" />
      <button id="pfpEditBtn" class="btn-mutted btn-icon rounded" type="button">
        {{ template "pencilSVG" }}
      </button>
      <input id="pfpChange" name="pfp" class="hidden" type="file" accept="image/*" />
    </div>
    <div class="editUsername">
      <div class="username">
        <h1>{{ .Name }}</h1>
        <input id="nameInput" name="name" class="input hidden" value="{{ .Name }}" />
        {{ template "pencilSVG" }}
      </div>
      <div id="formBtns">
        <button class="btn-secondary" type="submit">Edit</button>
        <button class="btn-destructive" type="reset">Cancel</button>
      </div>
    </div>
  </form>
  <ul>
    <li>Knowledge: {{ .Stats.Knowledge }}</li>
    <li>Guts: {{.Stats.Guts}}</li>
    <li>Proficiency: {{ .Stats.Proficiency }}</li>
    <li>Kindness: {{ .Stats.Kindness }}</li>
    <li>Charm: {{ .Stats.Charm }}</li>
  </ul>
</section>

<section id="logs">
  <div class="flex gap-sm">
    <h2>Logs</h2>
    <button onclick="toggleModal('add-activity')">add</button>
  </div>
  <ul>
    {{ range .Activities }}
    <li data-id="{{.Id}}" class="activity-card" onclick="">
      <div>
        <h4>{{ .Title }}</h4>
        <p class="text-subtitle text-xs">{{ timeToString .Date }}</p>
      </div>
      <ul>
        {{ range .IncreasedStats }}
        <li>
          <p>{{ .Stat }}</p>
          <p>{{ .Points }}</p>
        </li>
        {{ end }}
      </ul>
    </li>
    {{ end }}
  </ul>
</section>

{{ template "modal" (dict
  "Id"      "add-activity"
  "Title"   "Add Activity"
  "Content" "activity"
)}}

<!-- Toast block -->
<div id="toast-container"></div>
{{ end }}
